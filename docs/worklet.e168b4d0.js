!function(e,r,t,n,f){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof o[n]&&o[n],i=a.cache||{},c="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(r,t){if(!i[r]){if(!e[r]){var f="function"==typeof o[n]&&o[n];if(!t&&f)return f(r,!0);if(a)return a(r,!0);if(c&&"string"==typeof r)return c(r);var s=Error("Cannot find module '"+r+"'");throw s.code="MODULE_NOT_FOUND",s}d.resolve=function(t){var n=e[r][1][t];return null!=n?n:t},d.cache={};var l=i[r]=new u.Module(r);e[r][0].call(l.exports,d,l,l.exports,this)}return i[r].exports;function d(e){var r=d.resolve(e);return!1===r?{}:u(r)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=i,u.parent=a,u.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]},Object.defineProperty(u,"root",{get:function(){return o[n]}}),o[n]=u;for(var s=0;s<r.length;s++)u(r[s]);if(t){var l=u(t);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd&&define(function(){return l})}}({gIdr9:[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(t),n.export(t,"SpectroscopeProcessor",()=>a);var f=e("fft-js"),o=e("../lib/useBroadcast");class a extends AudioWorkletProcessor{sampleIndex=0;buffer=new Float32Array;isActive=!0;fft;broadcast=(0,o.useBroadcast)(this.port);static get parameterDescriptors(){return[{name:"fftSize"}]}constructor(){super(),this.port.start()}process(e,r,t){let n=e[0][0],o=t.fftSize[0],a=o<=0?2048:o;this.buffer.length!==a&&(this.buffer=new Float32Array(a)),!n&&this.isActive&&(this.broadcast({phasors:[],magnitudes:new Uint8Array,frequencies:new Uint8Array}),this.isActive=!1),n&&!this.isActive&&(this.isActive=!0);for(let e=0;e<n?.length;e+=1)if(this.buffer[this.sampleIndex]=n[e],this.sampleIndex+=1,this.sampleIndex>=a){let e=(0,f.fft)(this.buffer),r=new Uint8Array((0,f.util).fftFreq(e,sampleRate)),t=new Uint8Array((0,f.util).fftMag(e));this.broadcast({phasors:e,frequencies:r,magnitudes:t}),this.sampleIndex=0}return!0}}try{registerProcessor("spectroscope-processor",a)}catch(e){}},{"fft-js":"gMcVp","../lib/useBroadcast":"eLhYv","@parcel/transformer-js/src/esmodule-helpers.js":"5zHCx"}],gMcVp:[function(e,r,t){r.exports={fft:e("ebbccf2ef5a80fcc").fft,ifft:e("957950cb83760b6").ifft,fftInPlace:e("ebbccf2ef5a80fcc").fftInPlace,util:e("a47e5c75e4adf441"),dft:e("1f5b4c8889d3dbf1"),idft:e("acffb7efdf9d50aa")}},{ebbccf2ef5a80fcc:"g2hPi","957950cb83760b6":"2KXrW",a47e5c75e4adf441:"42zmU","1f5b4c8889d3dbf1":"7FrDi",acffb7efdf9d50aa:"gN2QK"}],g2hPi:[function(e,r,t){var n=e("b0c5eb085299c3ae"),f=e("873e464629e8c570"),o=e("79cd644a8ceea180");r.exports={fft:function e(r){var t=[],o=r.length;if(1==o)return Array.isArray(r[0])?[[r[0][0],r[0][1]]]:[[r[0],0]];for(var a=e(r.filter(function(e,r){return r%2==0})),i=e(r.filter(function(e,r){return r%2==1})),c=0;c<o/2;c++){var u=a[c],s=n.multiply(f.exponent(c,o),i[c]);t[c]=n.add(u,s),t[c+o/2]=n.subtract(u,s)}return t},fftInPlace:function(e){for(var r=e.length,t=o.countTrailingZeros(r),a=0;a<r;a++){var i=o.reverse(a)>>>o.INT_BITS-t;if(i>a){var c=[e[a],0];e[a]=e[i],e[i]=c}else e[i]=[e[i],0]}for(var u=2;u<=r;u+=u)for(var s=0;s<u/2;s++)for(var l=f.exponent(s,u),d=0;d<r/u;d++){var p=n.multiply(l,e[d*u+s+u/2]);e[d*u+s+u/2]=n.subtract(e[d*u+s],p),e[d*u+s]=n.add(e[d*u+s],p)}}}},{b0c5eb085299c3ae:"5HOA1","873e464629e8c570":"42zmU","79cd644a8ceea180":"bUcd2"}],"5HOA1":[function(e,r,t){r.exports={add:function(e,r){return[e[0]+r[0],e[1]+r[1]]},subtract:function(e,r){return[e[0]-r[0],e[1]-r[1]]},multiply:function(e,r){return[e[0]*r[0]-e[1]*r[1],e[0]*r[1]+e[1]*r[0]]},magnitude:function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}}},{}],"42zmU":[function(e,r,t){var n=e("19a4857845fe0491"),f={};r.exports={fftMag:function(e){var r=e.map(n.magnitude);return r.slice(0,r.length/2)},fftFreq:function(e,r){var t=r/e.length;return e.slice(0,e.length/2).map(function(e,r){return r*t})},exponent:function(e,r){var t=-2*Math.PI*(e/r);return f[r]=f[r]||{},f[r][e]=f[r][e]||[Math.cos(t),Math.sin(t)],f[r][e]}}},{"19a4857845fe0491":"5HOA1"}],bUcd2:[function(e,r,t){function n(e){var r=32;return(e&=-e)&&r--,65535&e&&(r-=16),0xff00ff&e&&(r-=8),0xf0f0f0f&e&&(r-=4),0x33333333&e&&(r-=2),0x55555555&e&&(r-=1),r}t.INT_BITS=32,t.INT_MAX=0x7fffffff,t.INT_MIN=-0x80000000,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var r=e>>31;return(e^r)-r},t.min=function(e,r){return r^(e^r)&-(e<r)},t.max=function(e,r){return e^(e^r)&-(e<r)},t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var r,t;return r=(e>65535)<<4,e>>>=r,t=(e>255)<<3,e>>>=t,r|=t,t=(e>15)<<2,e>>>=t,r|=t,t=(e>3)<<1,e>>>=t,(r|=t)|e>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return e-=e>>>1&0x55555555,((e=(0x33333333&e)+(e>>>2&0x33333333))+(e>>>4)&0xf0f0f0f)*0x1010101>>>24},t.countTrailingZeros=n,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var f=Array(256);!function(e){for(var r=0;r<256;++r){var t=r,n=r,f=7;for(t>>>=1;t;t>>>=1)n<<=1,n|=1&t,--f;e[r]=n<<f&255}}(f),t.reverse=function(e){return f[255&e]<<24|f[e>>>8&255]<<16|f[e>>>16&255]<<8|f[e>>>24&255]},t.interleave2=function(e,r){return e&=65535,r&=65535,(e=((e=((e=((e=(e|e<<8)&0xff00ff)|e<<4)&0xf0f0f0f)|e<<2)&0x33333333)|e<<1)&0x55555555)|(r=((r=((r=((r=(r|r<<8)&0xff00ff)|r<<4)&0xf0f0f0f)|r<<2)&0x33333333)|r<<1)&0x55555555)<<1},t.deinterleave2=function(e,r){return(e=((e=((e=((e=((e=e>>>r&0x55555555)|e>>>1)&0x33333333)|e>>>2)&0xf0f0f0f)|e>>>4)&0xff00ff)|e>>>16)&65535)<<16>>16},t.interleave3=function(e,r,t){return e&=1023,r&=1023,t&=1023,t=((t=((t=((t=(t|t<<16)&0xff0000ff)|t<<8)&0xf00f00f)|t<<4)&0xc30c30c3)|t<<2)&0x49249249,(e=((e=((e=((e=(e|e<<16)&0xff0000ff)|e<<8)&0xf00f00f)|e<<4)&0xc30c30c3)|e<<2)&0x49249249|(r=((r=((r=((r=(r|r<<16)&0xff0000ff)|r<<8)&0xf00f00f)|r<<4)&0xc30c30c3)|r<<2)&0x49249249)<<1)|t<<2},t.deinterleave3=function(e,r){return(e=((e=((e=((e=((e=e>>>r&0x49249249)|e>>>2)&0xc30c30c3)|e>>>4)&0xf00f00f)|e>>>8)&0xff0000ff)|e>>>16)&1023)<<22>>22},t.nextCombination=function(e){var r=e|e-1;return r+1|(~r&-~r)-1>>>n(e)+1}},{}],"2KXrW":[function(e,r,t){var n=e("1ce71890adda7bb5").fft;r.exports={ifft:function(e){for(var r=[],t=0;t<e.length;t++)r[t]=[e[t][1],e[t][0]];for(var f=n(r),o=[],a=0;a<f.length;a++)o[a]=[f[a][1]/f.length,f[a][0]/f.length];return o}}},{"1ce71890adda7bb5":"g2hPi"}],"7FrDi":[function(e,r,t){var n=e("294f5dc81b29040e"),f=e("454c34fe95536381");r.exports=function(e){for(var r=[],t=e.length,o=0;o<t;o++){r[o]=[0,0];for(var a=0;a<t;a++){var i,c=f.exponent(o*a,t);i=Array.isArray(e[a])?n.multiply(e[a],c):n.multiply([e[a],0],c),r[o]=n.add(r[o],i)}}return r}},{"294f5dc81b29040e":"5HOA1","454c34fe95536381":"42zmU"}],gN2QK:[function(e,r,t){var n=e("1a7eb63f8cdb9efd");r.exports=function(e){for(var r=[],t=0;t<e.length;t++)r[t]=[e[t][1],e[t][0]];for(var f=n(r),o=[],a=0;a<f.length;a++)o[a]=[f[a][1]/f.length,f[a][0]/f.length];return o}},{"1a7eb63f8cdb9efd":"7FrDi"}],eLhYv:[function(e,r,t){var n,f,o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(t),o.export(t,"Events",()=>f),o.export(t,"useBroadcast",()=>i),o.export(t,"addBroadcastListener",()=>c),o.export(t,"removeBroadcastListener",()=>u),(n=f||(f={})).ADD_LISTENER="ADD_LISTENER",n.REMOVE_LISTENER="REMOVE_LISTENER";let a="default",i=e=>{let r={[a]:[]};return e.addEventListener("message",({data:e})=>{if("ADD_LISTENER"===e.name||"REMOVE_LISTENER"===e.name){let t=e.poolName??a;r[t]||(r[t]=[]),r[t].push(e.port)}}),(e,t=a)=>r[t]?.forEach(r=>r.postMessage(e))},c=(e,r,t)=>{e.postMessage({name:"ADD_LISTENER",port:r,poolName:t},[r])},u=(e,r,t)=>{e.postMessage({name:"REMOVE_LISTENER",poolName:t},[])}},{"@parcel/transformer-js/src/esmodule-helpers.js":"5zHCx"}],"5zHCx":[function(e,r,t){t.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},t.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.exportAll=function(e,r){return Object.keys(e).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:function(){return e[t]}})}),r},t.export=function(e,r,t){Object.defineProperty(e,r,{enumerable:!0,get:t})}},{}]},["gIdr9"],"gIdr9","parcelRequirec6d8");
//# sourceMappingURL=worklet.e168b4d0.js.map
