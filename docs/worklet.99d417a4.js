!function(e,r,t,n,o){var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i="function"==typeof s[n]&&s[n],l=i.cache||{},a="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(r,t){if(!l[r]){if(!e[r]){var o="function"==typeof s[n]&&s[n];if(!t&&o)return o(r,!0);if(i)return i(r,!0);if(a&&"string"==typeof r)return a(r);var c=Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(t){var n=e[r][1][t];return null!=n?n:t},p.cache={};var f=l[r]=new u.Module(r);e[r][0].call(f.exports,p,f,f.exports,this)}return l[r].exports;function p(e){var r=p.resolve(e);return!1===r?{}:u(r)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=l,u.parent=i,u.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]},Object.defineProperty(u,"root",{get:function(){return s[n]}}),s[n]=u;for(var c=0;c<r.length;c++)u(r[c]);if(t){var f=u(t);"object"==typeof exports&&"undefined"!=typeof module?module.exports=f:"function"==typeof define&&define.amd&&define(function(){return f})}}({"3qWXy":[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(t),n.export(t,"DistortionProcessor",()=>l);var o=e("@swc/helpers/_/_define_property"),s=e("../lib/useBroadcast"),i=e("./waveGenerators");class l extends AudioWorkletProcessor{static get parameterDescriptors(){return[{name:"type",minValue:0,maxValue:i.generators.length-1}]}onChange(){var e,r;let t=i.generators[null!==(e=this._currentType)&&void 0!==e?e:0];if(!t){console.error("could not find generator with index ",this._currentType);return}let n=t(null!==(r=this._currentDrive)&&void 0!==r?r:0);this.broadcast(n)}process(e,r,t){var n;let o=null==e?void 0:null===(n=e[0])||void 0===n?void 0:n[0];if(!(null==o?void 0:o.length))return this._currentDrive=0,this.onChange(),!0;let s=t.type[0];return s!==this._currentType&&(this._currentType=s,this.onChange()),o.forEach(e=>{e!==this._currentDrive&&(this._currentDrive=e,this.onChange())}),!0}constructor(){super(),(0,o._)(this,"broadcast",(0,s.useBroadcast)(this.port)),(0,o._)(this,"_currentDrive",null),(0,o._)(this,"_currentType",null),this.port.start()}}registerProcessor("distortion-processor",l)},{"@swc/helpers/_/_define_property":"ktYkZ","../lib/useBroadcast":"eLhYv","./waveGenerators":"aQfCi","@parcel/transformer-js/src/esmodule-helpers.js":"5zHCx"}],ktYkZ:[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}n.defineInteropFlag(t),n.export(t,"_define_property",()=>o),n.export(t,"_",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"5zHCx"}],"5zHCx":[function(e,r,t){t.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},t.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.exportAll=function(e,r){return Object.keys(e).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:function(){return e[t]}})}),r},t.export=function(e,r,t){Object.defineProperty(e,r,{enumerable:!0,get:t})}},{}],eLhYv:[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(t),n.export(t,"useBroadcast",()=>s),n.export(t,"addBroadcastListener",()=>i),n.export(t,"removeBroadcastListener",()=>l);let o="default",s=e=>{let r={[o]:[]};return e.addEventListener("message",({data:e})=>{if("ADD_LISTENER"===e.name){var t;let n=null!==(t=e.poolName)&&void 0!==t?t:o;r[n]||(r[n]=[]),r[n].push(e.port)}}),(e,t=o)=>{var n;return null===(n=r[t])||void 0===n?void 0:n.forEach(r=>r.postMessage(e))}},i=(e,r,t)=>{e.postMessage({name:"ADD_LISTENER",port:r,poolName:t},[r])},l=(e,r,t)=>{e.postMessage({name:"REMOVE_LISTENER",port:r,poolName:t},[r])}},{"@parcel/transformer-js/src/esmodule-helpers.js":"5zHCx"}],aQfCi:[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(t),n.export(t,"generateClipperWave",()=>l),n.export(t,"generateAnalogWarmWave",()=>a),n.export(t,"generateFuzzWave",()=>u),n.export(t,"generators",()=>c);var o=e("../lib/generateWave"),s=e("../lib/scale"),i=n.interopDefault(s);let l=(e=0,r=1024)=>{let t=(0,i.default)(e,0,1,0,.46),n=(0,i.default)(e,0,1,1,.54);return(0,o.generateWave)([{x:t,y:0},{x:n,y:1}],"monotonic",r)},a=(e=0,r=1024)=>{let t=(0,i.default)(e,0,1,.25,.35),n=(0,i.default)(e,0,1,.75,.65);return(0,o.generateWave)([{x:0,y:0},{x:t,y:.25},{x:n,y:.75},{x:1,y:1}],"monotonic",r)},u=(e=0,r=1024)=>{let t=(0,i.default)(e,0,1,0,.25),n=(0,i.default)(e,0,1,.25,.32),s=(0,i.default)(e,0,1,1,.6);return(0,o.generateWave)([{x:t,y:0},{x:n,y:.25},{x:.5,y:.5},{x:s,y:1}],"monotonic",r)},c=[l,a,u]},{"../lib/generateWave":"48KV7","../lib/scale":"9v9Uw","@parcel/transformer-js/src/esmodule-helpers.js":"5zHCx"}],"48KV7":[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(t),n.export(t,"generateWave",()=>s);var o=e("splines");let s=(e=[],r="monotonic",t=65536)=>{if(!e.length)return null;let[n,s]=e.reduce(([e,r],{x:n,y:o})=>[[...e,n*t],[...r,o]],[[],[]]),i=new Float32Array(t).fill(0),l=new("monotonic"===r?o.MonotonicCubicSpline:o.CubicSpline)(n,s);for(let e=0;e<Math.ceil(n[0]);e++){let r=s[0];i[e]=r}for(let e=Math.ceil(n[0]);e<Math.ceil(n[n.length-1]);e++){let r=l.interpolate(e);i[e]=r}for(var a=Math.ceil(n[n.length-1]);a<t;a++){let e=s[s.length-1];i[a]=e}return new Float32Array(i.map(e=>{let r=2*e-1;return r>1?1:r<-1?-1:r}))}},{splines:"1fsmV","@parcel/transformer-js/src/esmodule-helpers.js":"5zHCx"}],"1fsmV":[function(e,r,t){var n,o;o=function(){function e(e,r){var t,n,o,s,i,l,a,u,c,f,p,h,d,v,m,g,x;for(i=0,a=e.length,o=[],l=[],t=[],n=[],s=[],u=[],v=a-1;0<=v?i<v:i>v;0<=v?i+=1:i-=1)o[i]=(r[i+1]-r[i])/(e[i+1]-e[i]),i>0&&(l[i]=(o[i-1]+o[i])/2);for(i=0,l[0]=o[0],l[a-1]=o[a-2],c=[],m=a-1;0<=m?i<m:i>m;0<=m?i+=1:i-=1)0===o[i]&&c.push(i);for(f=0,h=c.length;f<h;f++)l[i=c[f]]=l[i+1]=0;for(i=0,g=a-1;0<=g?i<g:i>g;0<=g?i+=1:i-=1)t[i]=l[i]/o[i],n[i]=l[i+1]/o[i],s[i]=Math.pow(t[i],2)+Math.pow(n[i],2),u[i]=3/Math.sqrt(s[i]);for(i=0,c=[],x=a-1;0<=x?i<x:i>x;0<=x?i+=1:i-=1)s[i]>9&&c.push(i);for(p=0,d=c.length;p<d;p++)l[i=c[p]]=u[i]*t[i]*o[i],l[i+1]=u[i]*n[i]*o[i];this.x=e.slice(0,a),this.y=r.slice(0,a),this.m=l}return e.prototype.interpolate=function(e){var r,t,n,o,s,i,l,a,u,c;for(i=c=this.x.length-2;(c<=0?i<=0:i>=0)&&!(this.x[i]<=e);c<=0?i+=1:i-=1);return r=this.x[i+1]-this.x[i],a=Math.pow(l=(e-this.x[i])/r,2),t=2*(u=Math.pow(l,3))-3*a+1,o=u-2*a+l,n=-2*u+3*a,s=u-a,t*this.y[i]+o*r*this.m[i]+n*this.y[i+1]+s*r*this.m[i+1]},e}(),n=function(){function e(e,r,t,n){var o,s,i,l,a,u,c,f,p,h,d,v,m,g;if(null!=e&&null!=r){for(u=0,i=null!=t&&null!=n,p=e.length-1,a=[],v=[],f=[],d=[],m=[],s=[],o=[],l=[],c=[],h=[];0<=p?u<p:u>p;0<=p?u+=1:u-=1)a[u]=e[u+1]-e[u],c[u]=r[u+1]-r[u],h[u]=c[u]/a[u];for(i&&(v[0]=3*(r[1]-r[0])/a[0]-3*t,v[p]=3*n-3*(r[p]-r[p-1])/a[p-1]),u=1;1<=p?u<p:u>p;1<=p?u+=1:u-=1)v[u]=3/a[u]*(r[u+1]-r[u])-3/a[u-1]*(r[u]-r[u-1]);for(i?(f[0]=2*a[0],d[0]=.5,m[0]=v[0]/f[0]):(f[0]=1,d[0]=0,m[0]=0),u=1;1<=p?u<p:u>p;1<=p?u+=1:u-=1)f[u]=2*(e[u+1]-e[u-1])-a[u-1]*d[u-1],d[u]=a[u]/f[u],m[u]=(v[u]-a[u-1]*m[u-1])/f[u];for(i?(f[p]=a[p-1]*(2-d[p-1]),m[p]=(v[p]-a[p-1]*m[p-1])/f[p],s[p]=m[p]):(f[p]=1,m[p]=0,s[p]=0),u=g=p-1;g<=0?u<=0:u>=0;g<=0?u+=1:u-=1)s[u]=m[u]-d[u]*s[u+1],o[u]=(r[u+1]-r[u])/a[u]-a[u]*(s[u+1]+2*s[u])/3,l[u]=(s[u+1]-s[u])/(3*a[u]);this.x=e.slice(0,p+1),this.a=r.slice(0,p),this.b=o,this.c=s.slice(0,p),this.d=l}}return e.prototype.derivative=function(){var e,r,t,n,o,s,i,l,a,u,c;for(o=0,(t=new this.constructor).x=this.x.slice(0,this.x.length),t.a=this.b.slice(0,this.b.length),i=(a=this.c).length;o<i;o++)e=a[o],t.b=2*e;for(s=0,l=(u=this.d).length;s<l;s++)r=u[s],t.c=3*r;for(n=0,c=this.d.length;0<=c?n<c:n>c;0<=c?n+=1:n-=1)t.d=0;return t},e.prototype.interpolate=function(e){var r,t,n;for(t=n=this.x.length-1;(n<=0?t<=0:t>=0)&&!(this.x[t]<=e);n<=0?t+=1:t-=1);return r=e-this.x[t],this.a[t]+this.b[t]*r+this.c[t]*Math.pow(r,2)+this.d[t]*Math.pow(r,3)},e}(),r.exports={CubicSpline:n,MonotonicCubicSpline:o}},{}],"9v9Uw":[function(e,r,t){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(t),t.default=(e,r,t,n,o)=>(Math.max(Math.min(e,t),r)-r)/(t-r)*(o-n)+n},{"@parcel/transformer-js/src/esmodule-helpers.js":"5zHCx"}]},["3qWXy"],"3qWXy","parcelRequirec6d8");
//# sourceMappingURL=worklet.99d417a4.js.map
