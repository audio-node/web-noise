!function(e,r,t,n,f,o,i,a){var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},u="function"==typeof c[n]&&c[n],s=u.i||{},d=u.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function p(r,t){if(!d[r]){if(!e[r]){if(f[r])return f[r];var o="function"==typeof c[n]&&c[n];if(!t&&o)return o(r,!0);if(u)return u(r,!0);if(l&&"string"==typeof r)return l(r);var i=Error("Cannot find module '"+r+"'");throw i.code="MODULE_NOT_FOUND",i}s.resolve=function(t){var n=e[r][1][t];return null!=n?n:t},s.cache={};var a=d[r]=new p.Module(r);e[r][0].call(a.exports,s,a,a.exports,c)}return d[r].exports;function s(e){var r=s.resolve(e);return!1===r?{}:p(r)}}p.isParcelRequire=!0,p.Module=function(e){this.id=e,this.bundle=p,this.require=l,this.exports={}},p.modules=e,p.cache=d,p.parent=u,p.distDir=void 0,p.publicUrl=void 0,p.devServer=void 0,p.i=s,p.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]},Object.defineProperty(p,"root",{get:function(){return c[n]}}),c[n]=p;for(var x=0;x<r.length;x++)p(r[x]);if(t){var b=p(t);"object"==typeof exports&&"undefined"!=typeof module?module.exports=b:"function"==typeof define&&define.amd&&define(function(){return b})}}({"70XYd":[function(e,r,t,n){var f=e("@parcel/transformer-js/src/esmodule-helpers.js");f.defineInteropFlag(t),f.export(t,"SpectroscopeProcessor",()=>c);var o=e("@swc/helpers/_/_define_property"),i=e("fft-js"),a=e("../../lib/useBroadcast");class c extends AudioWorkletProcessor{static get parameterDescriptors(){return[{name:"fftSize"}]}process(e,r,t){let n=e[0][0],f=t.fftSize[0],o=f<=0?2048:f;this.buffer.length!==o&&(this.buffer=new Float32Array(o)),!n&&this.isActive&&(this.broadcast({phasors:[],magnitudes:new Uint8Array,frequencies:new Uint8Array}),this.isActive=!1),n&&!this.isActive&&(this.isActive=!0);for(let e=0;e<(null==n?void 0:n.length);e+=1)if(this.buffer[this.sampleIndex]=n[e],this.sampleIndex+=1,this.sampleIndex>=o){let e=(0,i.fft)(this.buffer),r=new Uint8Array(i.util.fftFreq(e,sampleRate)),t=new Uint8Array(i.util.fftMag(e));this.broadcast({phasors:e,frequencies:r,magnitudes:t}),this.sampleIndex=0}return!0}constructor(){super(),(0,o._)(this,"sampleIndex",0),(0,o._)(this,"buffer",new Float32Array),(0,o._)(this,"isActive",!0),(0,o._)(this,"fft",void 0),(0,o._)(this,"broadcast",(0,a.useBroadcast)(this.port)),this.port.start()}}try{registerProcessor("spectroscope-processor",c)}catch(e){}},{"@swc/helpers/_/_define_property":"dIIHJ","fft-js":"3GpgG","../../lib/useBroadcast":"eLhYv","@parcel/transformer-js/src/esmodule-helpers.js":"c8FVb"}],dIIHJ:[function(e,r,t,n){var f=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}f.defineInteropFlag(t),f.export(t,"_",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"c8FVb"}],c8FVb:[function(e,r,t,n){t.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},t.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.exportAll=function(e,r){return Object.keys(e).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:function(){return e[t]}})}),r},t.export=function(e,r,t){Object.defineProperty(e,r,{enumerable:!0,get:t})}},{}],"3GpgG":[function(e,r,t,n){r.exports={fft:e("cf3bdc9a2b9b4d2f").fft,ifft:e("d19a75a2f1cf7ca5").ifft,fftInPlace:e("cf3bdc9a2b9b4d2f").fftInPlace,util:e("abda48200c1d25eb"),dft:e("c3ef4e4cf0fb45c7"),idft:e("efe311d3e37623d3")}},{cf3bdc9a2b9b4d2f:"dsk9U",d19a75a2f1cf7ca5:"haPLA",abda48200c1d25eb:"amATP",c3ef4e4cf0fb45c7:"d8bQG",efe311d3e37623d3:"b9cSu"}],dsk9U:[function(e,r,t,n){var f=e("d4ff17ab7900ec5f"),o=e("c749e706738d5cd0"),i=e("e0e54567f1819bc");r.exports={fft:function e(r){var t=[],n=r.length;if(1==n)if(Array.isArray(r[0]))return[[r[0][0],r[0][1]]];else return[[r[0],0]];for(var i=e(r.filter(function(e,r){return r%2==0})),a=e(r.filter(function(e,r){return r%2==1})),c=0;c<n/2;c++){var u=i[c],s=f.multiply(o.exponent(c,n),a[c]);t[c]=f.add(u,s),t[c+n/2]=f.subtract(u,s)}return t},fftInPlace:function(e){for(var r=e.length,t=i.countTrailingZeros(r),n=0;n<r;n++){var a=i.reverse(n)>>>i.INT_BITS-t;if(a>n){var c=[e[n],0];e[n]=e[a],e[a]=c}else e[a]=[e[a],0]}for(var u=2;u<=r;u+=u)for(var s=0;s<u/2;s++)for(var d=o.exponent(s,u),l=0;l<r/u;l++){var p=f.multiply(d,e[l*u+s+u/2]);e[l*u+s+u/2]=f.subtract(e[l*u+s],p),e[l*u+s]=f.add(e[l*u+s],p)}}}},{d4ff17ab7900ec5f:"getwx",c749e706738d5cd0:"amATP",e0e54567f1819bc:"dm0NZ"}],getwx:[function(e,r,t,n){r.exports={add:function(e,r){return[e[0]+r[0],e[1]+r[1]]},subtract:function(e,r){return[e[0]-r[0],e[1]-r[1]]},multiply:function(e,r){return[e[0]*r[0]-e[1]*r[1],e[0]*r[1]+e[1]*r[0]]},magnitude:function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}}},{}],amATP:[function(e,r,t,n){var f=e("48dece7951ad36b1"),o={};r.exports={fftMag:function(e){var r=e.map(f.magnitude);return r.slice(0,r.length/2)},fftFreq:function(e,r){var t=r/e.length;return e.slice(0,e.length/2).map(function(e,r){return r*t})},exponent:function(e,r){var t=-2*Math.PI*(e/r);return o[r]=o[r]||{},o[r][e]=o[r][e]||[Math.cos(t),Math.sin(t)],o[r][e]}}},{"48dece7951ad36b1":"getwx"}],dm0NZ:[function(e,r,t,n){function f(e){var r=32;return(e&=-e)&&r--,65535&e&&(r-=16),0xff00ff&e&&(r-=8),0xf0f0f0f&e&&(r-=4),0x33333333&e&&(r-=2),0x55555555&e&&(r-=1),r}t.INT_BITS=32,t.INT_MAX=0x7fffffff,t.INT_MIN=-0x80000000,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var r=e>>31;return(e^r)-r},t.min=function(e,r){return r^(e^r)&-(e<r)},t.max=function(e,r){return e^(e^r)&-(e<r)},t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var r,t;return r=(e>65535)<<4,e>>>=r,t=(e>255)<<3,e>>>=t,r|=t,t=(e>15)<<2,e>>>=t,r|=t,t=(e>3)<<1,e>>>=t,(r|=t)|e>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:+(e>=10)},t.popCount=function(e){return e-=e>>>1&0x55555555,((e=(0x33333333&e)+(e>>>2&0x33333333))+(e>>>4)&0xf0f0f0f)*0x1010101>>>24},t.countTrailingZeros=f,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};for(var o=Array(256),i=0;i<256;++i){var a=i,c=i,u=7;for(a>>>=1;a;a>>>=1)c<<=1,c|=1&a,--u;o[i]=c<<u&255}t.reverse=function(e){return o[255&e]<<24|o[e>>>8&255]<<16|o[e>>>16&255]<<8|o[e>>>24&255]},t.interleave2=function(e,r){return e&=65535,r&=65535,(e=((e=((e=((e=(e|e<<8)&0xff00ff)|e<<4)&0xf0f0f0f)|e<<2)&0x33333333)|e<<1)&0x55555555)|(r=((r=((r=((r=(r|r<<8)&0xff00ff)|r<<4)&0xf0f0f0f)|r<<2)&0x33333333)|r<<1)&0x55555555)<<1},t.deinterleave2=function(e,r){return(e=((e=((e=((e=((e=e>>>r&0x55555555)|e>>>1)&0x33333333)|e>>>2)&0xf0f0f0f)|e>>>4)&0xff00ff)|e>>>16)&65535)<<16>>16},t.interleave3=function(e,r,t){return e&=1023,r&=1023,t&=1023,t=((t=((t=((t=(t|t<<16)&0xff0000ff)|t<<8)&0xf00f00f)|t<<4)&0xc30c30c3)|t<<2)&0x49249249,(e=((e=((e=((e=(e|e<<16)&0xff0000ff)|e<<8)&0xf00f00f)|e<<4)&0xc30c30c3)|e<<2)&0x49249249|(r=((r=((r=((r=(r|r<<16)&0xff0000ff)|r<<8)&0xf00f00f)|r<<4)&0xc30c30c3)|r<<2)&0x49249249)<<1)|t<<2},t.deinterleave3=function(e,r){return(e=((e=((e=((e=((e=e>>>r&0x49249249)|e>>>2)&0xc30c30c3)|e>>>4)&0xf00f00f)|e>>>8)&0xff0000ff)|e>>>16)&1023)<<22>>22},t.nextCombination=function(e){var r=e|e-1;return r+1|(~r&-~r)-1>>>f(e)+1}},{}],haPLA:[function(e,r,t,n){var f=e("bbabafdd2fafd08c").fft;r.exports={ifft:function(e){for(var r=[],t=0;t<e.length;t++)r[t]=[e[t][1],e[t][0]];for(var n=f(r),o=[],i=0;i<n.length;i++)o[i]=[n[i][1]/n.length,n[i][0]/n.length];return o}}},{bbabafdd2fafd08c:"dsk9U"}],d8bQG:[function(e,r,t,n){var f=e("e161336ae561fcc5"),o=e("5b9e5fc04461db21");r.exports=function(e){for(var r=[],t=e.length,n=0;n<t;n++){r[n]=[0,0];for(var i=0;i<t;i++){var a,c=o.exponent(n*i,t);a=Array.isArray(e[i])?f.multiply(e[i],c):f.multiply([e[i],0],c),r[n]=f.add(r[n],a)}}return r}},{e161336ae561fcc5:"getwx","5b9e5fc04461db21":"amATP"}],b9cSu:[function(e,r,t,n){var f=e("91dd96499d13554e");r.exports=function(e){for(var r=[],t=0;t<e.length;t++)r[t]=[e[t][1],e[t][0]];for(var n=f(r),o=[],i=0;i<n.length;i++)o[i]=[n[i][1]/n.length,n[i][0]/n.length];return o}},{"91dd96499d13554e":"d8bQG"}],eLhYv:[function(e,r,t,n){var f,o,i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(t),i.export(t,"Events",()=>o),i.export(t,"useBroadcast",()=>c),i.export(t,"addBroadcastListener",()=>u),i.export(t,"removeBroadcastListener",()=>s),(f=o||(o={})).ADD_LISTENER="ADD_LISTENER",f.REMOVE_LISTENER="REMOVE_LISTENER";let a="default",c=e=>{let r={[a]:[]};return e.addEventListener("message",({data:e})=>{var t,n;if("ADD_LISTENER"===e.name){let n=null!=(t=e.poolName)?t:a;r[n]||(r[n]=[]),r[n].push(e.port)}if("REMOVE_LISTENER"===e.name){let t=null!=(n=e.poolName)?n:a;r[t]||(r[t]=[]),r[t].push(e.port)}}),(e,t=a)=>{var n;return null==(n=r[t])?void 0:n.forEach(r=>r.postMessage(e))}},u=(e,r,t)=>{e.postMessage({name:"ADD_LISTENER",port:r,poolName:t},[r])},s=(e,r,t)=>{e.postMessage({name:"REMOVE_LISTENER",poolName:t},[])}},{"@parcel/transformer-js/src/esmodule-helpers.js":"c8FVb"}]},["70XYd"],"70XYd","parcelRequirec6d8",{});
//# sourceMappingURL=worklet.c5489257.js.map
