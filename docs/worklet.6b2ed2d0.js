!function(e,r,t,n,o,s,i,l){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},u="function"==typeof a[n]&&a[n],c=u.i||{},f=u.cache||{},p="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function h(r,t){if(!f[r]){if(!e[r]){if(o[r])return o[r];var s="function"==typeof a[n]&&a[n];if(!t&&s)return s(r,!0);if(u)return u(r,!0);if(p&&"string"==typeof r)return p(r);var i=Error("Cannot find module '"+r+"'");throw i.code="MODULE_NOT_FOUND",i}c.resolve=function(t){var n=e[r][1][t];return null!=n?n:t},c.cache={};var l=f[r]=new h.Module(r);e[r][0].call(l.exports,c,l,l.exports,a)}return f[r].exports;function c(e){var r=c.resolve(e);return!1===r?{}:h(r)}}h.isParcelRequire=!0,h.Module=function(e){this.id=e,this.bundle=h,this.require=p,this.exports={}},h.modules=e,h.cache=f,h.parent=u,h.distDir=void 0,h.publicUrl=void 0,h.devServer=void 0,h.i=c,h.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]},Object.defineProperty(h,"root",{get:function(){return a[n]}}),a[n]=h;for(var d=0;d<r.length;d++)h(r[d]);if(t){var v=h(t);"object"==typeof exports&&"undefined"!=typeof module?module.exports=v:"function"==typeof define&&define.amd&&define(function(){return v})}}({gS9fa:[function(e,r,t,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(t),o.export(t,"DistortionProcessor",()=>a);var s=e("@swc/helpers/_/_define_property"),i=e("../../lib/useBroadcast"),l=e("./waveGenerators");class a extends AudioWorkletProcessor{static get parameterDescriptors(){return[{name:"type",minValue:0,maxValue:l.generators.length-1}]}onChange(){var e,r;let t=l.generators[null!=(e=this._currentType)?e:0];if(!t)return void console.error("could not find generator with index ",this._currentType);let n=t(null!=(r=this._currentDrive)?r:0);this.broadcast(n)}process(e,r,t){var n;let o=null==e||null==(n=e[0])?void 0:n[0];if(!(null==o?void 0:o.length))return this._currentDrive=0,this.onChange(),!0;let s=t.type[0];return s!==this._currentType&&(this._currentType=s,this.onChange()),o.forEach(e=>{e!==this._currentDrive&&(this._currentDrive=e,this.onChange())}),!0}constructor(){super(),(0,s._)(this,"broadcast",(0,i.useBroadcast)(this.port)),(0,s._)(this,"_currentDrive",null),(0,s._)(this,"_currentType",null),this.port.start()}}registerProcessor("distortion-processor",a)},{"@swc/helpers/_/_define_property":"dIIHJ","../../lib/useBroadcast":"eLhYv","./waveGenerators":"86oPR","@parcel/transformer-js/src/esmodule-helpers.js":"c8FVb"}],dIIHJ:[function(e,r,t,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}o.defineInteropFlag(t),o.export(t,"_",()=>s)},{"@parcel/transformer-js/src/esmodule-helpers.js":"c8FVb"}],c8FVb:[function(e,r,t,n){t.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},t.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.exportAll=function(e,r){return Object.keys(e).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:function(){return e[t]}})}),r},t.export=function(e,r,t){Object.defineProperty(e,r,{enumerable:!0,get:t})}},{}],eLhYv:[function(e,r,t,n){var o,s,i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(t),i.export(t,"Events",()=>s),i.export(t,"useBroadcast",()=>a),i.export(t,"addBroadcastListener",()=>u),i.export(t,"removeBroadcastListener",()=>c),(o=s||(s={})).ADD_LISTENER="ADD_LISTENER",o.REMOVE_LISTENER="REMOVE_LISTENER";let l="default",a=e=>{let r={[l]:[]};return e.addEventListener("message",({data:e})=>{var t,n;if("ADD_LISTENER"===e.name){let n=null!=(t=e.poolName)?t:l;r[n]||(r[n]=[]),r[n].push(e.port)}if("REMOVE_LISTENER"===e.name){let t=null!=(n=e.poolName)?n:l;r[t]||(r[t]=[]),r[t].push(e.port)}}),(e,t=l)=>{var n;return null==(n=r[t])?void 0:n.forEach(r=>r.postMessage(e))}},u=(e,r,t)=>{e.postMessage({name:"ADD_LISTENER",port:r,poolName:t},[r])},c=(e,r,t)=>{e.postMessage({name:"REMOVE_LISTENER",poolName:t},[])}},{"@parcel/transformer-js/src/esmodule-helpers.js":"c8FVb"}],"86oPR":[function(e,r,t,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(t),o.export(t,"generateClipperWave",()=>a),o.export(t,"generateAnalogWarmWave",()=>u),o.export(t,"generateFuzzWave",()=>c),o.export(t,"generators",()=>f);var s=e("../../lib/generateWave"),i=e("../../lib/scale"),l=o.interopDefault(i);let a=(e=0,r=1024)=>{let t=(0,l.default)(e,0,1,0,.46),n=(0,l.default)(e,0,1,1,.54);return(0,s.generateWave)([{x:t,y:0},{x:n,y:1}],"monotonic",r)},u=(e=0,r=1024)=>{let t=(0,l.default)(e,0,1,.25,.35),n=(0,l.default)(e,0,1,.75,.65);return(0,s.generateWave)([{x:0,y:0},{x:t,y:.25},{x:n,y:.75},{x:1,y:1}],"monotonic",r)},c=(e=0,r=1024)=>{let t=(0,l.default)(e,0,1,0,.25),n=(0,l.default)(e,0,1,.25,.32),o=(0,l.default)(e,0,1,1,.6);return(0,s.generateWave)([{x:t,y:0},{x:n,y:.25},{x:.5,y:.5},{x:o,y:1}],"monotonic",r)},f=[a,u,c]},{"../../lib/generateWave":"48KV7","../../lib/scale":"9v9Uw","@parcel/transformer-js/src/esmodule-helpers.js":"c8FVb"}],"48KV7":[function(e,r,t,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(t),o.export(t,"generateWave",()=>i);var s=e("splines");let i=(e=[],r="monotonic",t=65536)=>{if(!e.length)return null;let[n,o]=e.reduce(([e,r],{x:n,y:o})=>[[...e,n*t],[...r,o]],[[],[]]),i=new Float32Array(t).fill(0),l=new("monotonic"===r?s.MonotonicCubicSpline:s.CubicSpline)(n,o);for(let e=0;e<Math.ceil(n[0]);e++){let r=o[0];i[e]=r}for(let e=Math.ceil(n[0]);e<Math.ceil(n[n.length-1]);e++){let r=l.interpolate(e);i[e]=r}for(var a=Math.ceil(n[n.length-1]);a<t;a++){let e=o[o.length-1];i[a]=e}return new Float32Array(i.map(e=>{let r=2*e-1;return r>1?1:r<-1?-1:r}))}},{splines:"1rtTn","@parcel/transformer-js/src/esmodule-helpers.js":"c8FVb"}],"1rtTn":[function(e,r,t,n){var o;o=function(){function e(e,r){var t,n,o,s,i,l,a,u,c,f,p,h,d,v,g,m,x;for(i=0,a=e.length,o=[],l=[],t=[],n=[],s=[],u=[],v=a-1;0<=v?i<v:i>v;0<=v?i+=1:i-=1)o[i]=(r[i+1]-r[i])/(e[i+1]-e[i]),i>0&&(l[i]=(o[i-1]+o[i])/2);for(i=0,l[0]=o[0],l[a-1]=o[a-2],c=[],g=a-1;0<=g?i<g:i>g;0<=g?i+=1:i-=1)0===o[i]&&c.push(i);for(f=0,h=c.length;f<h;f++)l[i=c[f]]=l[i+1]=0;for(i=0,m=a-1;0<=m?i<m:i>m;0<=m?i+=1:i-=1)t[i]=l[i]/o[i],n[i]=l[i+1]/o[i],s[i]=Math.pow(t[i],2)+Math.pow(n[i],2),u[i]=3/Math.sqrt(s[i]);for(i=0,c=[],x=a-1;0<=x?i<x:i>x;0<=x?i+=1:i-=1)s[i]>9&&c.push(i);for(p=0,d=c.length;p<d;p++)l[i=c[p]]=u[i]*t[i]*o[i],l[i+1]=u[i]*n[i]*o[i];this.x=e.slice(0,a),this.y=r.slice(0,a),this.m=l}return e.prototype.interpolate=function(e){var r,t,n,o,s,i;for(t=i=this.x.length-2;(i<=0?t<=0:t>=0)&&!(this.x[t]<=e);i<=0?t+=1:t-=1);return r=this.x[t+1]-this.x[t],o=Math.pow(n=(e-this.x[t])/r,2),(2*(s=Math.pow(n,3))-3*o+1)*this.y[t]+(s-2*o+n)*r*this.m[t]+(-2*s+3*o)*this.y[t+1]+(s-o)*r*this.m[t+1]},e}(),r.exports={CubicSpline:function(){function e(e,r,t,n){var o,s,i,l,a,u,c,f,p,h,d,v,g,m;if(null!=e&&null!=r){for(u=0,i=null!=t&&null!=n,p=e.length-1,a=[],v=[],f=[],d=[],g=[],s=[],o=[],l=[],c=[],h=[];0<=p?u<p:u>p;0<=p?u+=1:u-=1)a[u]=e[u+1]-e[u],c[u]=r[u+1]-r[u],h[u]=c[u]/a[u];for(i&&(v[0]=3*(r[1]-r[0])/a[0]-3*t,v[p]=3*n-3*(r[p]-r[p-1])/a[p-1]),u=1;1<=p?u<p:u>p;1<=p?u+=1:u-=1)v[u]=3/a[u]*(r[u+1]-r[u])-3/a[u-1]*(r[u]-r[u-1]);for(i?(f[0]=2*a[0],d[0]=.5,g[0]=v[0]/f[0]):(f[0]=1,d[0]=0,g[0]=0),u=1;1<=p?u<p:u>p;1<=p?u+=1:u-=1)f[u]=2*(e[u+1]-e[u-1])-a[u-1]*d[u-1],d[u]=a[u]/f[u],g[u]=(v[u]-a[u-1]*g[u-1])/f[u];for(i?(f[p]=a[p-1]*(2-d[p-1]),g[p]=(v[p]-a[p-1]*g[p-1])/f[p],s[p]=g[p]):(f[p]=1,g[p]=0,s[p]=0),u=m=p-1;m<=0?u<=0:u>=0;m<=0?u+=1:u-=1)s[u]=g[u]-d[u]*s[u+1],o[u]=(r[u+1]-r[u])/a[u]-a[u]*(s[u+1]+2*s[u])/3,l[u]=(s[u+1]-s[u])/(3*a[u]);this.x=e.slice(0,p+1),this.a=r.slice(0,p),this.b=o,this.c=s.slice(0,p),this.d=l}}return e.prototype.derivative=function(){var e,r,t,n,o,s,i,l,a;for(t=0,(e=new this.constructor).x=this.x.slice(0,this.x.length),e.a=this.b.slice(0,this.b.length),o=(i=this.c).length;t<o;t++)e.b=2*i[t];for(n=0,s=(l=this.d).length;n<s;n++)e.c=3*l[n];for(r=0,a=this.d.length;0<=a?r<a:r>a;0<=a?r+=1:r-=1)e.d=0;return e},e.prototype.interpolate=function(e){var r,t,n;for(t=n=this.x.length-1;(n<=0?t<=0:t>=0)&&!(this.x[t]<=e);n<=0?t+=1:t-=1);return r=e-this.x[t],this.a[t]+this.b[t]*r+this.c[t]*Math.pow(r,2)+this.d[t]*Math.pow(r,3)},e}(),MonotonicCubicSpline:o}},{}],"9v9Uw":[function(e,r,t,n){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(t),t.default=(e,r,t,n,o)=>(Math.max(Math.min(e,t),r)-r)/(t-r)*(o-n)+n},{"@parcel/transformer-js/src/esmodule-helpers.js":"c8FVb"}]},["gS9fa"],"gS9fa","parcelRequirec6d8",{});
//# sourceMappingURL=worklet.6b2ed2d0.js.map
