!function(e,t,r,s,n,i,o,f){var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},u="function"==typeof l[s]&&l[s],h=u.i||{},a=u.cache||{},d="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(t,r){if(!a[t]){if(!e[t]){if(n[t])return n[t];var i="function"==typeof l[s]&&l[s];if(!r&&i)return i(t,!0);if(u)return u(t,!0);if(d&&"string"==typeof t)return d(t);var o=Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}h.resolve=function(r){var s=e[t][1][r];return null!=s?s:r},h.cache={};var f=a[t]=new c.Module(t);e[t][0].call(f.exports,h,f,f.exports,l)}return a[t].exports;function h(e){var t=h.resolve(e);return!1===t?{}:c(t)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.require=d,this.exports={}},c.modules=e,c.cache=a,c.parent=u,c.distDir=void 0,c.publicUrl=void 0,c.devServer=void 0,c.i=h,c.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(c,"root",{get:function(){return l[s]}}),l[s]=c;for(var p=0;p<t.length;p++)c(t[p]);if(r){var _=c(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=_:"function"==typeof define&&define.amd&&define(function(){return _})}}({fDq5I:[function(e,t,r,s){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"LimiterAudioWorkletProcessor",()=>a);var i=e("@swc/helpers/_/_define_property"),o=e("./constant-memory-deque"),f=e("./read-from-ring-buffer"),l=e("./write-to-ring-buffer");let u=Math.exp(-1/(.5*sampleRate)),h=(e,t,r,s)=>{let n=e[127];for(let i=0;i<128;i+=1){let o,f,l=(r+i)%t.length,h=Math.abs(t[l]);if(null!==s){for(;s.size>0&&h>=Math.abs(t[s.first()]);)s.shift();(0===s.size||h<Math.abs(t[s.first()]))&&s.unshift(l);let e=(r+i+128)%t.length;s.last()===e&&s.pop();let n=s.last();o=Math.abs(t[n]),f=n<l?l-n+1:l+t.length-n+1}else o=h,f=1;let a=n-o;n<o?n-=a/f:n=o+u*a,e[i]=n}};class a extends AudioWorkletProcessor{process([e],[t]){let r=e.length,s=this._writeOffset;for(let n=0;n<r;n+=1){let r=null===this._constantMemoryDeques?null:this._constantMemoryDeques[n],i=this._delayBuffers[n],o=this._envelopeBuffers[n],u=e[n],a=t[n];this._writeOffset=(0,l.writeToRingBuffer)(i,u,s),h(o,i,s,r),(0,f.readFromRingBuffer)(i,a,this._writeOffset);for(let e=0;e<128;e+=1){let t=Math.min(1,1/o[e]);a[e]*=t}}return!0}constructor({channelCount:e,channelCountMode:t,numberOfInputs:r,numberOfOutputs:s,outputChannelCount:n,processorOptions:f}){let l="object"==typeof f&&null!==f&&"attack"in f?f.attack:0;if("number"!=typeof l)throw Error('The attack needs to be of type "number".');if(l<0)throw Error("The attack can't be negative.");if("explicit"!==t)throw Error('The channelCountMode needs to be "explicit".');if(1!==r)throw Error("The numberOfInputs must be 1.");if(1!==s)throw Error("The numberOfOutputs must be 1.");if(void 0===n||e!==n[0])throw Error("The channelCount must be the same as the outputChannelCount of the first output.");super(),(0,i._)(this,"_constantMemoryDeques",void 0),(0,i._)(this,"_delayBuffers",void 0),(0,i._)(this,"_envelopeBuffers",void 0),(0,i._)(this,"_writeOffset",void 0);let u=Math.round(sampleRate*l),h=u+128;this._constantMemoryDeques=0===u?null:Array.from({length:e},()=>new(0,o.ConstantMemoryDeque)(new Uint16Array(u+1))),this._delayBuffers=Array.from({length:e},()=>new Float32Array(h)),this._envelopeBuffers=Array.from({length:e},()=>new Float32Array(128)),this._writeOffset=0}}(0,i._)(a,"parameterDescriptors",[]);try{registerProcessor("limiter-processor",a)}catch(e){}},{"@swc/helpers/_/_define_property":"dIIHJ","./constant-memory-deque":"hqU6e","./read-from-ring-buffer":"dqUNz","./write-to-ring-buffer":"2o2Pk","@parcel/transformer-js/src/esmodule-helpers.js":"c8FVb"}],dIIHJ:[function(e,t,r,s){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}n.defineInteropFlag(r),n.export(r,"_",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"c8FVb"}],c8FVb:[function(e,t,r,s){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],hqU6e:[function(e,t,r,s){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"ConstantMemoryDeque",()=>o);var i=e("@swc/helpers/_/_define_property");class o{get size(){return this._isEmpty?0:this._lastIndex<this._firstIndex?this._buffer.length-this._firstIndex+this._lastIndex+1:this._lastIndex-this._firstIndex+1}first(){return this._throwIfEmpty(),this._buffer[this._firstIndex]}last(){return this._throwIfEmpty(),this._buffer[this._lastIndex]}pop(){this._throwIfEmpty(),this._firstIndex===this._lastIndex?this._isEmpty=!0:this._lastIndex=this._decrementIndex(this._lastIndex)}shift(){this._throwIfEmpty(),this._firstIndex===this._lastIndex?this._isEmpty=!0:this._firstIndex=this._incrementIndex(this._firstIndex)}unshift(e){if(this._isEmpty)this._buffer[this._firstIndex]=e,this._isEmpty=!1;else{let t=this._decrementIndex(this._firstIndex);if(t===this._lastIndex)throw Error("Deque is full.");this._buffer[t]=e,this._firstIndex=t}}_decrementIndex(e){return 0===e?this._buffer.length-1:e-1}_incrementIndex(e){return(e+1)%this._buffer.length}_throwIfEmpty(){if(this._isEmpty)throw Error("Deque is empty.")}constructor(e){if((0,i._)(this,"_buffer",void 0),(0,i._)(this,"_firstIndex",void 0),(0,i._)(this,"_isEmpty",void 0),(0,i._)(this,"_lastIndex",void 0),this._buffer=e,this._firstIndex=0,this._isEmpty=!0,this._lastIndex=0,0===this._buffer.length)throw Error("The given buffer is too small.")}}},{"@swc/helpers/_/_define_property":"dIIHJ","@parcel/transformer-js/src/esmodule-helpers.js":"c8FVb"}],dqUNz:[function(e,t,r,s){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"readFromRingBuffer",()=>i);let i=(e,t,r)=>{let s=r+t.length;if(s<=e.length)return t.set(new Float32Array(e.buffer,e.byteOffset+r*t.BYTES_PER_ELEMENT,t.length)),s===e.length?0:s;let n=s-e.length,i=e.length-r;return t.set(new Float32Array(e.buffer,e.byteOffset+r*t.BYTES_PER_ELEMENT,i)),t.set(new Float32Array(e.buffer,e.byteOffset,n),i),n}},{"@parcel/transformer-js/src/esmodule-helpers.js":"c8FVb"}],"2o2Pk":[function(e,t,r,s){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"writeToRingBuffer",()=>i);let i=(e,t,r)=>{let s=r+t.length;if(s<=e.length)return e.set(t,r),s===e.length?0:s;let n=s-e.length,i=e.length-r;return e.set(new Float32Array(t.buffer,t.byteOffset,i),r),e.set(new Float32Array(t.buffer,t.byteOffset+i*t.BYTES_PER_ELEMENT,n)),n}},{"@parcel/transformer-js/src/esmodule-helpers.js":"c8FVb"}]},["fDq5I"],"fDq5I","parcelRequirec6d8",{});
//# sourceMappingURL=worklet.16293a3d.js.map
