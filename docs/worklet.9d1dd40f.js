!function(e,t,r,n,o){var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i="function"==typeof s[n]&&s[n],a=i.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(t,r){if(!a[t]){if(!e[t]){var o="function"==typeof s[n]&&s[n];if(!r&&o)return o(t,!0);if(i)return i(t,!0);if(l&&"string"==typeof t)return l(t);var c=Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){var n=e[t][1][r];return null!=n?n:r},p.cache={};var f=a[t]=new u.Module(t);e[t][0].call(f.exports,p,f,f.exports,this)}return a[t].exports;function p(e){var t=p.resolve(e);return!1===t?{}:u(t)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=a,u.parent=i,u.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(u,"root",{get:function(){return s[n]}}),s[n]=u;for(var c=0;c<t.length;c++)u(t[c]);if(r){var f=u(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=f:"function"==typeof define&&define.amd&&define(function(){return f})}}({"3qWXy":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"DistortionProcessor",()=>i);var o=e("../lib/useBroadcast"),s=e("./waveGenerators");class i extends AudioWorkletProcessor{broadcast=(0,o.useBroadcast)(this.port);_currentDrive=null;_currentType=null;static get parameterDescriptors(){return[{name:"type",minValue:0,maxValue:s.generators.length-1}]}constructor(){super(),this.port.start()}onChange(){let e=s.generators[this._currentType??0];if(!e){console.error("could not find generator with index ",this._currentType);return}let t=e(this._currentDrive??0);this.broadcast(t)}process(e,t,r){let n=e?.[0]?.[0];if(!n?.length)return this._currentDrive=0,this.onChange(),!0;let o=r.type[0];return o!==this._currentType&&(this._currentType=o,this.onChange()),n.forEach(e=>{e!==this._currentDrive&&(this._currentDrive=e,this.onChange())}),!0}}registerProcessor("distortion-processor",i)},{"../lib/useBroadcast":"eLhYv","./waveGenerators":"aQfCi","@parcel/transformer-js/src/esmodule-helpers.js":"4w0m1"}],eLhYv:[function(e,t,r){var n,o,s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Events",()=>o),s.export(r,"useBroadcast",()=>a),s.export(r,"addBroadcastListener",()=>l),s.export(r,"removeBroadcastListener",()=>u),(n=o||(o={})).ADD_LISTENER="ADD_LISTENER",n.REMOVE_LISTENER="REMOVE_LISTENER";let i="default",a=e=>{let t={[i]:[]};return e.addEventListener("message",({data:e})=>{if("ADD_LISTENER"===e.name||"REMOVE_LISTENER"===e.name){let r=e.poolName??i;t[r]||(t[r]=[]),t[r].push(e.port)}}),(e,r=i)=>t[r]?.forEach(t=>t.postMessage(e))},l=(e,t,r)=>{e.postMessage({name:"ADD_LISTENER",port:t,poolName:r},[t])},u=(e,t,r)=>{e.postMessage({name:"REMOVE_LISTENER",poolName:r},[])}},{"@parcel/transformer-js/src/esmodule-helpers.js":"4w0m1"}],"4w0m1":[function(e,t,r){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],aQfCi:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"generateClipperWave",()=>a),n.export(r,"generateAnalogWarmWave",()=>l),n.export(r,"generateFuzzWave",()=>u),n.export(r,"generators",()=>c);var o=e("../lib/generateWave"),s=e("../lib/scale"),i=n.interopDefault(s);let a=(e=0,t=1024)=>{let r=(0,i.default)(e,0,1,0,.46),n=(0,i.default)(e,0,1,1,.54);return(0,o.generateWave)([{x:r,y:0},{x:n,y:1}],"monotonic",t)},l=(e=0,t=1024)=>{let r=(0,i.default)(e,0,1,.25,.35),n=(0,i.default)(e,0,1,.75,.65);return(0,o.generateWave)([{x:0,y:0},{x:r,y:.25},{x:n,y:.75},{x:1,y:1}],"monotonic",t)},u=(e=0,t=1024)=>{let r=(0,i.default)(e,0,1,0,.25),n=(0,i.default)(e,0,1,.25,.32),s=(0,i.default)(e,0,1,1,.6);return(0,o.generateWave)([{x:r,y:0},{x:n,y:.25},{x:.5,y:.5},{x:s,y:1}],"monotonic",t)},c=[a,l,u]},{"../lib/generateWave":"48KV7","../lib/scale":"9v9Uw","@parcel/transformer-js/src/esmodule-helpers.js":"4w0m1"}],"48KV7":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"generateWave",()=>s);var o=e("splines");let s=(e=[],t="monotonic",r=65536)=>{if(!e.length)return null;let[n,s]=e.reduce(([e,t],{x:n,y:o})=>[[...e,n*r],[...t,o]],[[],[]]),i=new Float32Array(r).fill(0),a=new("monotonic"===t?o.MonotonicCubicSpline:o.CubicSpline)(n,s);for(let e=0;e<Math.ceil(n[0]);e++){let t=s[0];i[e]=t}for(let e=Math.ceil(n[0]);e<Math.ceil(n[n.length-1]);e++){let t=a.interpolate(e);i[e]=t}for(var l=Math.ceil(n[n.length-1]);l<r;l++){let e=s[s.length-1];i[l]=e}return new Float32Array(i.map(e=>{let t=2*e-1;return t>1?1:t<-1?-1:t}))}},{splines:"e8CDA","@parcel/transformer-js/src/esmodule-helpers.js":"4w0m1"}],e8CDA:[function(e,t,r){var n,o;o=function(){function e(e,t){var r,n,o,s,i,a,l,u,c,f,p,h,d,m,g,v,x;for(i=0,l=e.length,o=[],a=[],r=[],n=[],s=[],u=[],m=l-1;0<=m?i<m:i>m;0<=m?i+=1:i-=1)o[i]=(t[i+1]-t[i])/(e[i+1]-e[i]),i>0&&(a[i]=(o[i-1]+o[i])/2);for(i=0,a[0]=o[0],a[l-1]=o[l-2],c=[],g=l-1;0<=g?i<g:i>g;0<=g?i+=1:i-=1)0===o[i]&&c.push(i);for(f=0,h=c.length;f<h;f++)a[i=c[f]]=a[i+1]=0;for(i=0,v=l-1;0<=v?i<v:i>v;0<=v?i+=1:i-=1)r[i]=a[i]/o[i],n[i]=a[i+1]/o[i],s[i]=Math.pow(r[i],2)+Math.pow(n[i],2),u[i]=3/Math.sqrt(s[i]);for(i=0,c=[],x=l-1;0<=x?i<x:i>x;0<=x?i+=1:i-=1)s[i]>9&&c.push(i);for(p=0,d=c.length;p<d;p++)a[i=c[p]]=u[i]*r[i]*o[i],a[i+1]=u[i]*n[i]*o[i];this.x=e.slice(0,l),this.y=t.slice(0,l),this.m=a}return e.prototype.interpolate=function(e){var t,r,n,o,s,i,a,l,u,c;for(i=c=this.x.length-2;(c<=0?i<=0:i>=0)&&!(this.x[i]<=e);c<=0?i+=1:i-=1);return t=this.x[i+1]-this.x[i],l=Math.pow(a=(e-this.x[i])/t,2),r=2*(u=Math.pow(a,3))-3*l+1,o=u-2*l+a,n=-2*u+3*l,s=u-l,r*this.y[i]+o*t*this.m[i]+n*this.y[i+1]+s*t*this.m[i+1]},e}(),n=function(){function e(e,t,r,n){var o,s,i,a,l,u,c,f,p,h,d,m,g,v;if(null!=e&&null!=t){for(u=0,i=null!=r&&null!=n,p=e.length-1,l=[],m=[],f=[],d=[],g=[],s=[],o=[],a=[],c=[],h=[];0<=p?u<p:u>p;0<=p?u+=1:u-=1)l[u]=e[u+1]-e[u],c[u]=t[u+1]-t[u],h[u]=c[u]/l[u];for(i&&(m[0]=3*(t[1]-t[0])/l[0]-3*r,m[p]=3*n-3*(t[p]-t[p-1])/l[p-1]),u=1;1<=p?u<p:u>p;1<=p?u+=1:u-=1)m[u]=3/l[u]*(t[u+1]-t[u])-3/l[u-1]*(t[u]-t[u-1]);for(i?(f[0]=2*l[0],d[0]=.5,g[0]=m[0]/f[0]):(f[0]=1,d[0]=0,g[0]=0),u=1;1<=p?u<p:u>p;1<=p?u+=1:u-=1)f[u]=2*(e[u+1]-e[u-1])-l[u-1]*d[u-1],d[u]=l[u]/f[u],g[u]=(m[u]-l[u-1]*g[u-1])/f[u];for(i?(f[p]=l[p-1]*(2-d[p-1]),g[p]=(m[p]-l[p-1]*g[p-1])/f[p],s[p]=g[p]):(f[p]=1,g[p]=0,s[p]=0),u=v=p-1;v<=0?u<=0:u>=0;v<=0?u+=1:u-=1)s[u]=g[u]-d[u]*s[u+1],o[u]=(t[u+1]-t[u])/l[u]-l[u]*(s[u+1]+2*s[u])/3,a[u]=(s[u+1]-s[u])/(3*l[u]);this.x=e.slice(0,p+1),this.a=t.slice(0,p),this.b=o,this.c=s.slice(0,p),this.d=a}}return e.prototype.derivative=function(){var e,t,r,n,o,s,i,a,l,u,c;for(o=0,(r=new this.constructor).x=this.x.slice(0,this.x.length),r.a=this.b.slice(0,this.b.length),i=(l=this.c).length;o<i;o++)e=l[o],r.b=2*e;for(s=0,a=(u=this.d).length;s<a;s++)t=u[s],r.c=3*t;for(n=0,c=this.d.length;0<=c?n<c:n>c;0<=c?n+=1:n-=1)r.d=0;return r},e.prototype.interpolate=function(e){var t,r,n;for(r=n=this.x.length-1;(n<=0?r<=0:r>=0)&&!(this.x[r]<=e);n<=0?r+=1:r-=1);return t=e-this.x[r],this.a[r]+this.b[r]*t+this.c[r]*Math.pow(t,2)+this.d[r]*Math.pow(t,3)},e}(),t.exports={CubicSpline:n,MonotonicCubicSpline:o}},{}],"9v9Uw":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=(e,t,r,n,o)=>(Math.max(Math.min(e,r),t)-t)/(r-t)*(o-n)+n},{"@parcel/transformer-js/src/esmodule-helpers.js":"4w0m1"}]},["3qWXy"],"3qWXy","parcelRequirec6d8");
//# sourceMappingURL=worklet.9d1dd40f.js.map
